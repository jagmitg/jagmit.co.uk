---
import { getBlogsAndRepos } from "../utils/collections";
import { formatDate } from "../utils/formatDate";
import Link from "./Link.astro";

const posts = await getBlogsAndRepos();
// const posts = import.meta.env.PROD ? await getBlogs() : [];
---

<div class="grid grid-cols-2">
  <span>Number of posts</span>
  <span class="text-right">{posts.length}</span>
  <span>Last posted Date</span>
  <span class="text-right"
    >{
      import.meta.env.PROD
        ? formatDate(new Date(posts[0].data.date))
        : "dev mode"
    }</span
  >
  <span>Previous blog</span>
  <span class="text-right"
    ><Link
      href="https://abouthiroppy.hatenablog.jp/"
      name="技術探し"
      isBlank
      className="text-inherit hover:text-blue-500"
      text="技術探し"
    />
  </span>
</div>
