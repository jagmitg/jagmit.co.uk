---
import Layout from "@layouts/Layout.astro";
import MainLayout from "@layouts/MainLayout.astro";
import Code from "@components/Code.astro";
import { formatDate } from "@utils/formatDate";
import { getBlogsAndRepos } from "@utils/collections";

const { allCollections } = await getBlogsAndRepos();

const posts = allCollections.sort(
  (b, a) => a.data.date.valueOf() - b.data.date.valueOf()
);
---

<Layout>
  <MainLayout title="About">
    <p class="prose prose-neutral leading-8">
      Principle Full-Stack Engineer with 12+ years of experience in open-source
      technologies. A fervent accessibility advocate, Jag champions an inclusive
      web, demonstrating technical excellence in <Code>TypeScript</Code>,
      <Code>JavaScript</Code>, <Code>Node.js</Code>, <Code>Python</Code>, and
      with a focus on Front-end technologies including <Code>React</Code>,
      <Code>Angular</Code> and <Code>Vue</Code>. He's also a dedicated DevOps
      enthusiast and a strong believer in test-driven development.
    </p>
    <p class="prose prose-neutral leading-8">
      If you have requests for talking, writing, and so on, feel free to ping me
      on my email <Code>jag[at]jagmit.co.uk</Code> .
    </p>
    <div class="grid gap-4 grid-cols-1 grid-rows-2 mt-5 lg:grid-cols-4">
      {
        posts.slice(0, 8).map((post) => {
          return (
            <a
              href={post.data.repo ? post.data.repo : `/blog/${post.slug}`}
              class="homepage-recent-blog p-4 border border-neutral-200 bg-neutral-50 rounded flex items-center justify-between px-3 py-4 w-full hover:bg-neutral-200 transition-colors"
            >
              <div class="flex flex-col">
                <p class="text-neutral-600 text-sm">
                  {formatDate(new Date(post.data.date))}
                </p>
                <p class="font-bold text-neutral-900 ">{post.data.title}</p>
              </div>
            </a>
          );
        })
      }
    </div>
  </MainLayout>
</Layout>

<style is:inline></style>
